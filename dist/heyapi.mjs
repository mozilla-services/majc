var G=Object.create;var x=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var W=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var N=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of _(t))!V.call(e,a)&&a!==r&&x(e,a,{get:()=>t[a],enumerable:!(s=k(t,a))||s.enumerable});return e};var P=(e,t,r)=>(r=e!=null?G(I(e)):{},N(t||!e||!e.__esModule?x(r,"default",{value:e,enumerable:!0}):r,e));var q=W(d=>{"use strict";var B=async(e,t)=>{let r=typeof t=="function"?await t(e):t;if(r)return e.scheme==="bearer"?`Bearer ${r}`:e.scheme==="basic"?`Basic ${btoa(r)}`:r},C=(e,t,r)=>{typeof r=="string"||r instanceof Blob?e.append(t,r):e.append(t,JSON.stringify(r))},D=(e,t,r)=>{typeof r=="string"?e.append(t,r):e.append(t,JSON.stringify(r))},J={bodySerializer:e=>{let t=new FormData;return Object.entries(e).forEach(([r,s])=>{s!=null&&(Array.isArray(s)?s.forEach(a=>C(t,r,a)):C(t,r,s))}),t}},j={bodySerializer:e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():r)},H={bodySerializer:e=>{let t=new URLSearchParams;return Object.entries(e).forEach(([r,s])=>{s!=null&&(Array.isArray(s)?s.forEach(a=>D(t,r,a)):D(t,r,s))}),t.toString()}},L=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},F=e=>{switch(e){case"form":return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20";default:return","}},Q=e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}},v=({allowReserved:e,explode:t,name:r,style:s,value:a})=>{if(!t){let o=(e?a:a.map(i=>encodeURIComponent(i))).join(F(s));switch(s){case"label":return`.${o}`;case"matrix":return`;${r}=${o}`;case"simple":return o;default:return`${r}=${o}`}}let l=L(s),n=a.map(o=>s==="label"||s==="simple"?e?o:encodeURIComponent(o):O({allowReserved:e,name:r,value:o})).join(l);return s==="label"||s==="matrix"?l+n:n},O=({allowReserved:e,name:t,value:r})=>{if(r==null)return"";if(typeof r=="object")throw new Error("Deeply-nested arrays/objects aren\u2019t supported. Provide your own `querySerializer()` to handle these.");return`${t}=${e?r:encodeURIComponent(r)}`},R=({allowReserved:e,explode:t,name:r,style:s,value:a})=>{if(a instanceof Date)return`${r}=${a.toISOString()}`;if(s!=="deepObject"&&!t){let o=[];Object.entries(a).forEach(([h,p])=>{o=[...o,h,e?p:encodeURIComponent(p)]});let i=o.join(",");switch(s){case"form":return`${r}=${i}`;case"label":return`.${i}`;case"matrix":return`;${r}=${i}`;default:return i}}let l=Q(s),n=Object.entries(a).map(([o,i])=>O({allowReserved:e,name:s==="deepObject"?`${r}[${o}]`:o,value:i})).join(l);return s==="label"||s==="matrix"?l+n:n},K=/\{[^{}]+\}/g,M=({path:e,url:t})=>{let r=t,s=t.match(K);if(s)for(let a of s){let l=!1,n=a.substring(1,a.length-1),o="simple";n.endsWith("*")&&(l=!0,n=n.substring(0,n.length-1)),n.startsWith(".")?(n=n.substring(1),o="label"):n.startsWith(";")&&(n=n.substring(1),o="matrix");let i=e[n];if(i==null)continue;if(Array.isArray(i)){r=r.replace(a,v({explode:l,name:n,style:o,value:i}));continue}if(typeof i=="object"){r=r.replace(a,R({explode:l,name:n,style:o,value:i}));continue}if(o==="matrix"){r=r.replace(a,`;${O({name:n,value:i})}`);continue}let h=encodeURIComponent(o==="label"?`.${i}`:i);r=r.replace(a,h)}return r},A=({allowReserved:e,array:t,object:r}={})=>s=>{let a=[];if(s&&typeof s=="object")for(let l in s){let n=s[l];if(n!=null){if(Array.isArray(n)){a=[...a,v({allowReserved:e,explode:!0,name:l,style:"form",value:n,...t})];continue}if(typeof n=="object"){a=[...a,R({allowReserved:e,explode:!0,name:l,style:"deepObject",value:n,...r})];continue}a=[...a,O({allowReserved:e,name:l,value:n})]}}return a.join("&")},X=e=>{if(!e)return"stream";let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return"json";if(t==="multipart/form-data")return"formData";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return"blob";if(t.startsWith("text/"))return"text"}},Y=async({security:e,...t})=>{for(let r of e){let s=await B(r,t.auth);if(!s)continue;let a=r.name??"Authorization";switch(r.in){case"query":t.query||(t.query={}),t.query[a]=s;break;case"header":default:t.headers.set(a,s);break}return}},E=e=>Z({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:typeof e.querySerializer=="function"?e.querySerializer:A(e.querySerializer),url:e.url}),Z=({baseUrl:e,path:t,query:r,querySerializer:s,url:a})=>{let l=a.startsWith("/")?a:`/${a}`,n=(e??"")+l;t&&(n=M({path:t,url:n}));let o=r?s(r):"";return o.startsWith("?")&&(o=o.substring(1)),o&&(n+=`?${o}`),n},S=(e,t)=>{let r={...e,...t};return r.baseUrl?.endsWith("/")&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=U(e.headers,t.headers),r},U=(...e)=>{let t=new Headers;for(let r of e){if(!r||typeof r!="object")continue;let s=r instanceof Headers?r.entries():Object.entries(r);for(let[a,l]of s)if(l===null)t.delete(a);else if(Array.isArray(l))for(let n of l)t.append(a,n);else l!==void 0&&t.set(a,typeof l=="object"?JSON.stringify(l):l)}return t},g=class{_fns;constructor(){this._fns=[]}clear(){this._fns=[]}exists(e){return this._fns.indexOf(e)!==-1}eject(e){let t=this._fns.indexOf(e);t!==-1&&(this._fns=[...this._fns.slice(0,t),...this._fns.slice(t+1)])}use(e){this._fns=[...this._fns,e]}},ee=()=>({error:new g,request:new g,response:new g}),re=A({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),te={"Content-Type":"application/json"},$=(e={})=>({...j,headers:te,parseAs:"auto",querySerializer:re,...e}),ne=(e={})=>{let t=S($(),e),r=()=>({...t}),s=n=>(t=S(t,n),r()),a=ee(),l=async n=>{let o={...t,...n,fetch:n.fetch??t.fetch??globalThis.fetch,headers:U(t.headers,n.headers)};o.security&&await Y({...o,security:o.security}),o.body&&o.bodySerializer&&(o.body=o.bodySerializer(o.body)),(o.body===void 0||o.body==="")&&o.headers.delete("Content-Type");let i=E(o),h={redirect:"follow",...o},p=new Request(i,h);for(let c of a.request._fns)p=await c(p,o);let z=o.fetch,u=await z(p);for(let c of a.response._fns)u=await c(u,p,o);let m={request:p,response:u};if(u.ok){if(u.status===204||u.headers.get("Content-Length")==="0")return{data:{},...m};let c=(o.parseAs==="auto"?X(u.headers.get("Content-Type")):o.parseAs)??"json";if(c==="stream")return{data:u.body,...m};let b=await u[c]();return c==="json"&&(o.responseValidator&&await o.responseValidator(b),o.responseTransformer&&(b=await o.responseTransformer(b))),{data:b,...m}}let w=await u.text();try{w=JSON.parse(w)}catch{}let y=w;for(let c of a.error._fns)y=await c(w,u,p,o);if(y=y||{},o.throwOnError)throw y;return{error:y,...m}};return{buildUrl:E,connect:n=>l({...n,method:"CONNECT"}),delete:n=>l({...n,method:"DELETE"}),get:n=>l({...n,method:"GET"}),getConfig:r,head:n=>l({...n,method:"HEAD"}),interceptors:a,options:n=>l({...n,method:"OPTIONS"}),patch:n=>l({...n,method:"PATCH"}),post:n=>l({...n,method:"POST"}),put:n=>l({...n,method:"PUT"}),request:l,setConfig:s,trace:n=>l({...n,method:"TRACE"})}};d.createClient=ne;d.createConfig=$;d.formDataBodySerializer=J;d.jsonBodySerializer=j;d.urlSearchParamsBodySerializer=H});var T=P(q()),f=(0,T.createClient)((0,T.createConfig)({baseUrl:"https://ads.mozilla.org"}));var ue=e=>(e.client??f).post({url:"/v1/ads",...e,headers:{"Content-Type":"application/json",...e?.headers}}),pe=e=>(e.client??f).get({url:"/v1/t",...e}),ce=e=>(e.client??f).delete({url:"/v1/delete_user",...e,headers:{"Content-Type":"application/json",...e?.headers}}),fe=e=>(e.client??f).get({url:"/v1/images",...e}),de=e=>(e.client??f).post({url:"/spocs",...e,headers:{"Content-Type":"application/json",...e?.headers}}),he=e=>(e.client??f).delete({url:"/user",...e,headers:{"Content-Type":"application/json",...e?.headers}}),ye=e=>(e?.client??f).get({url:"/v1/tiles",...e});export{f as client,he as deleteUser,ce as deleteV1DeleteUser,ue as getAds,de as getSpocs,ye as getTiles,fe as getV1Images,pe as getV1T};
