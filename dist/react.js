"use client";"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; } var _class;var _chunkVP6V65FHjs = require('./chunk-VP6V65FH.js');require('./chunk-GS64TYUD.js');function k(){let o,e;return{promise:new Promise((t,c)=>{o=t,e=c}),resolve:o,reject:e}}Promise.withResolvers=_nullishCoalesce(Promise.withResolvers, () => (k));var _react = require('react');var P=_react.createContext.call(void 0, _chunkVP6V65FHjs.D.call(void 0, )),R= exports.useMozAdsConfig =()=>_react.useContext.call(void 0, P);var _jsxruntime = require('react/jsx-runtime');var X=({children:o,config:e=_chunkVP6V65FHjs.D.call(void 0, )})=>_jsxruntime.jsx.call(void 0, P.Provider,{value:e,children:o});var w;try{w=new (0, _chunkVP6V65FHjs.z)({name:"react.hooks.useMozAdsPlacement"})}catch(o){console.debug(`DefaultLogger for react.hooks.useMozAdsPlacement could not be instantiated: ${o}`)}var A= (_class =class{constructor() { _class.prototype.__init.call(this); }__init() {this.placements={}}async getPlacementWithContent(e){let s=this.placements[e.placementId];if(s)return s;try{let t=await _chunkVP6V65FHjs.Q.call(void 0, {placements:{[e.placementId]:e}});this.placements={...this.placements,...t}}catch(t){return _optionalChain([w, 'optionalAccess', _2 => _2.error, 'call', _3 => _3(`Unable to fetch ads; ${t.message}`,{type:"placementComponent.adLoad.failure",eventLabel:"ad_load_error",errorId:_optionalChain([t, 'optionalAccess', _4 => _4.name])})]),_optionalChain([e, 'access', _5 => _5.onError, 'optionalCall', _6 => _6({error:t})]),e}return this.placements[e.placementId]}}, _class),N= exports.mozAdsPlacementContext =_react.createContext.call(void 0, new A),y= exports.useMozAdsPlacement =({config:o,placementId:e,iabContent:s,fixedSize:t,onError:c})=>{_chunkVP6V65FHjs.E.call(void 0, {...R(),...o});let[f,a]=_react.useState.call(void 0, {placementId:e,iabContent:s,fixedSize:t}),p=_react.useContext.call(void 0, N),i=async()=>{a(await p.getPlacementWithContent({placementId:e,iabContent:s,fixedSize:t,onError:c}))};return _react.useEffect.call(void 0, ()=>{i()},[e]),f};var b;try{b=new (0, _chunkVP6V65FHjs.z)({name:"react.components.MozAdsPlacement"})}catch(o){console.debug(`DefaultLogger for react.components.MozAdsPlacement could not be instantiated: ${o}`)}function de({config:o,placementId:e,iabContent:s,fixedSize:t,onClick:c,onReport:f,onError:a,onLoad:p}){let{width:i,height:u}=t||{},z={width:i&&`${i}px`,height:u&&`${u}px`};try{let r=y({config:o,placementId:e,iabContent:s,fixedSize:t,onError:a}),m=_react.useRef.call(void 0, null),C={onClick:n=>{_chunkVP6V65FHjs.C.call(void 0, r),_optionalChain([c, 'optionalCall', _7 => _7(n)])},onReport:n=>{_optionalChain([f, 'optionalCall', _8 => _8(n)])},onError:n=>{_optionalChain([a, 'optionalCall', _9 => _9(n)])},onLoad:n=>{_chunkVP6V65FHjs.B.observe(r),_optionalChain([p, 'optionalCall', _10 => _10(n)])}};return _react.useLayoutEffect.call(void 0, ()=>{m.current&&_chunkVP6V65FHjs.J.call(void 0, m.current,{placement:r,...C,onError:()=>{let n=_chunkVP6V65FHjs.u.call(void 0, r);m.current&&_chunkVP6V65FHjs.J.call(void 0, m.current,{placement:{...r,content:n},...C})}})},[r]),_jsxruntime.jsx.call(void 0, "div",{ref:m,style:z})}catch(r){try{_optionalChain([b, 'optionalAccess', _11 => _11.error, 'call', _12 => _12(`An unexpected error has occured when rendering ${e}: ${_optionalChain([r, 'optionalAccess', _13 => _13.message])}`,{type:"placementComponent.render.error",eventLabel:"render_error",placementId:e,errorId:_optionalChain([r, 'optionalAccess', _14 => _14.name])})]),_optionalChain([a, 'optionalCall', _15 => _15({error:r})])}catch (e2){}return _jsxruntime.jsx.call(void 0, "div",{style:z})}}exports.MozAdsConfigProvider = X; exports.MozAdsPlacement = de; exports.MozAdsPlacementContextState = A; exports.mozAdsConfigContext = P; exports.mozAdsPlacementContext = N; exports.useMozAdsConfig = R; exports.useMozAdsPlacement = y;
